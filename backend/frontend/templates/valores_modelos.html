<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Valores por Modelo - Sistema Dadalto</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

  <!-- Cabe√ßalho -->
  <div class="bg-blue-800 text-white py-4 shadow">
    <div class="max-w-6xl mx-auto flex justify-between items-center px-4">
      <h1 class="text-2xl font-semibold">üí∞ Valores por Modelo</h1>
      <a href="/consultar_producao" class="bg-blue-600 px-4 py-2 rounded hover:bg-blue-500">‚Üê Voltar</a>
    </div>
  </div>

  <!-- Conte√∫do -->
  <div class="max-w-6xl mx-auto py-10 px-4">
    {% if mensagem %}
    <div class="mb-6 bg-green-100 text-green-800 border border-green-300 px-4 py-3 rounded">
      {{ mensagem|safe }}
    </div>
    {% endif %}

    <!-- Formul√°rio de cadastro -->
    <form method="post" action="/valores_modelos" class="flex flex-col sm:flex-row items-center gap-4 bg-white p-4 rounded shadow">
      <div class="w-full sm:w-1/2">
        <label class="block text-gray-700 mb-1 font-semibold">Modelo</label>
        <select name="modelo" required class="w-full border px-3 py-2 rounded focus:ring focus:ring-blue-200">
          <option value="">Selecione o modelo</option>
          <option>AVENTAL BARBEIRO</option>
          <option>AVENTAL DE 1 RASPA</option>
          <option>AVENTAL DE 1 VAQUETA</option>
          <option>AVENTAL DE 1,20</option>
          <option>BLUS√ÉO ESPECIAL</option>
          <option>BLUS√ÉO DE RASPA</option>
          <option>BLUS√ÉO VAQ</option>
          <option>CAL√áA RASPA</option>
          <option>COBERTURA P</option>
          <option>COBERTURA M</option>
          <option>COBERTURA G</option>
          <option>COBERTURA VERMELHA</option>
          <option>ARGONISTA FORCHETA P</option>
          <option>ARGONISTA FORCHETA M</option>
          <option>LUVA COMUM P15 C REFOR√áO EXTERNO</option>
          <option>LUVA COMUM P20</option>
          <option>LUVA COMUM P7</option>
          <option>LUVA COMUM P7 C REFOR√áO EXTERNO</option>
          <option>LUVA COMUM WURTH</option>
          <option>LUVA DE FORCHETA P</option>
          <option>LUVA DE FORCHETA M</option>
          <option>LUVA DE FORCHETA G</option>
          <option>LUVA DE VAQUETA OVO M</option>
          <option>LUVA DE VAQUETA OVO G</option>
          <option>LUVA DE VAQUETA OVO GG</option>
          <option>LUVA M√ÉO DE GATO</option>
          <option>LUVA DE RASPA PT</option>
          <option>LUVA DE RASPA VAN</option>
          <option>LUVA REVESTIDA DUPLA</option>
          <option>LUVA REVESTIDA GUIDO</option>
          <option>LUVA REVESTIDA WURTH</option>
          <option>LUVA VAQUETA MISTA CURTA</option>
          <option>LUVA DE VAQUETA MISTA LONGA P15</option>
          <option>LUVA DE VAQUETA MISTA LONGA P20</option>
          <option>LUVA VI FORCHETA GG</option>
          <option>MANGOTE INTEIRO</option>
          <option>MANGOTE DE EMENDA</option>
          <option>PERNEIRA DE EMENDA</option>
          <option>PERNEIRA DE FIVELA</option>
          <option>PERNEIRA DE VELCRO</option>
          {% for m in modelos %}
          <option value="{{ m }}">{{ m }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="w-full sm:w-1/3">
        <label class="block text-gray-700 mb-1 font-semibold">Valor Unit√°rio (R$)</label>
        <input type="number" step="0.01" name="valor" placeholder="Ex: 0.35" required class="w-full border px-3 py-2 rounded focus:ring focus:ring-green-200">
      </div>

      <button type="submit" class="bg-green-600 text-white px-6 py-2 rounded mt-6 sm:mt-0 hover:bg-green-700 transition">
        üíæ Salvar
      </button>
    </form>

    <!-- Tabela de valores cadastrados -->
    <div class="mt-10 bg-white shadow rounded overflow-hidden">
      <table class="min-w-full border-collapse">
        <thead class="bg-blue-700 text-white">
          <tr>
            <th class="px-4 py-2 text-left">Modelo</th>
            <th class="px-4 py-2 text-left">Valor Unit√°rio (R$)</th>
          </tr>
        </thead>
        <tbody>
          {% if valores %}
          {% for v in valores %}
          <tr class="border-b hover:bg-gray-50">
            <td class="px-4 py-2">{{ v.modelo }}</td>
            <td class="px-4 py-2">R$ {{ "%.2f"|format(v.valor_unitario) }}</td>
          </tr>
          {% endfor %}
          {% else %}
          <tr>
            <td colspan="2" class="text-center py-4 text-gray-500">Nenhum valor cadastrado.</td>
          </tr>
          {% endif %}
        </tbody>
      </table>
    </div>
  </div>

</body>
</html>
